<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" class="h-100">

<head>
    <meta charset="UTF-8">
    <title>AdminPage</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .grid-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-gap: 20px;
            justify-items: center;
        }

        .chart1,
        .chart2,
        .chart4,
        .chart5 {
            width: 100%;
        }
    </style>
</head>

<body>
    <div th:replace="~{fragments/header :: header}"></div>

    <h1 align="center">User Feedback:</h1>

    <div class="grid-container">
        <div class="chart1">
            <canvas id="chart1" style="max-height:200px;"></canvas>
        </div>
        <div class="chart2">
            <canvas id="chart2" style="max-height:200px;"></canvas>
        </div>
        <div class="chart4">
            <canvas id="chart4" style="max-height:200px;"></canvas>
        </div>
        <div class="chart5">
            <canvas id="chart5" style="max-height:200px;"></canvas>
        </div>

        <script th:inline="javascript">
            /*<![CDATA[*/
            var data1 = /*[[${feedbackCountPwChange}]]*/ 'default';
            var data2 = /*[[${feedbackCountPwProperties}]]*/ 'default';
            var data4 = /*[[${feedbackCountBackup}]]*/ 'default';
            var data5 = /*[[${feedbackCountIncidentResponse}]]*/ 'default';
            /*]]>*/

            var labels = ["Good", "Neutral", "Bad"];
            var colors = ["#82FA58", "#F4FA58", "#FE2E2E"]

            new Chart("chart1", {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        backgroundColor: colors,
                        data: data1
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: "Feedback zu Password Change Policy:"
                        }
                    }
                }
            });
            new Chart("chart2", {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        backgroundColor: colors,
                        data: data2
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: "Feedback zu Password Property Policy:"
                        }
                    }
                }
            });

            new Chart("chart4", {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        backgroundColor: colors,
                        data: data4
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: "Feedback zu Backup:"
                        }
                    }
                }
            });
            new Chart("chart5", {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        backgroundColor: colors,
                        data: data5
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: "Feedback zu Incident Response:"
                        }
                    }
                }
            });
        </script>
</body>

</html>